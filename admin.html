<!doctype html>
<html lang="bn">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Admin Panel - ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-r from-gray-50 to-gray-100 min-h-screen p-6">
  <div class="max-w-4xl mx-auto">
    <header class="mb-6 text-center">
      <h1 class="text-3xl font-bold text-indigo-600 drop-shadow-sm">‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶® ‡¶™‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤</h1>
      <p class="text-sm text-gray-500">‡¶è‡¶ñ‡¶æ‡¶® ‡¶•‡ßá‡¶ï‡ßá ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶Ø‡ßã‡¶ó, ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶¨‡¶æ ‡¶Æ‡ßÅ‡¶õ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá‡¶®‡•§</p>
    </header>

    <!-- Form -->
    <form id="profileForm" class="space-y-4 bg-white p-6 rounded-xl shadow">
      <input type="hidden" id="editIndex" />

      <div>
        <label class="block mb-1 text-sm font-medium">‡¶®‡¶æ‡¶Æ (English)</label>
        <input id="name" type="text" required class="w-full border px-3 py-2 rounded-lg" />
      </div>

      <div>
        <label class="block mb-1 text-sm font-medium">‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ</label>
        <input id="address" type="text" required class="w-full border px-3 py-2 rounded-lg" />
      </div>

      <div>
        <label class="block mb-1 text-sm font-medium">‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞</label>
        <input id="phone" type="tel" placeholder="01XXXXXXXXX" required class="w-full border px-3 py-2 rounded-lg" />
      </div>

      <div>
        <label class="block mb-1 text-sm font-medium">‡¶¨‡ßç‡¶≤‡¶æ‡¶° ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™</label>
        <select id="blood" required class="w-full border px-3 py-2 rounded-lg">
          <option value="">Select</option>
          <option>A+</option>
          <option>A-</option>
          <option>B+</option>
          <option>B-</option>
          <option>O+</option>
          <option>O-</option>
          <option>AB+</option>
          <option>AB-</option>
        </select>
      </div>

      <div>
        <label class="block mb-1 text-sm font-medium">‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶õ‡¶¨‡¶ø (URL)</label>
        <input id="image" type="url" placeholder="https://..." class="w-full border px-3 py-2 rounded-lg" />
      </div>

      <div>
        <label class="block mb-1 text-sm font-medium">‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏</label>
        <select id="status" class="w-full border px-3 py-2 rounded-lg">
          <option value="notdonated">‡¶è‡¶ñ‡¶®‡¶ì ‡¶¶‡ßá‡¶®‡¶®‡¶ø</option>
          <option value="donated">‡¶∞‡¶ï‡ßç‡¶§‡¶¶‡¶æ‡¶§‡¶æ</option>
        </select>
      </div>

      <div>
        <label class="block mb-1 text-sm font-medium">‡¶∏‡¶∞‡ßç‡¶¨‡¶∂‡ßá‡¶∑ ‡¶∞‡¶ï‡ßç‡¶§ ‡¶¶‡¶ø‡ßü‡ßá‡¶õ‡ßá‡¶® (‡¶¶‡¶ø‡¶® ‡¶Ü‡¶ó‡ßá)</label>
        <input id="lastDonate" type="number" min="0" class="w-full border px-3 py-2 rounded-lg" />
      </div>

      <button type="submit" class="w-full bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700 transition">
        ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®
      </button>
    </form>

    <!-- Profiles list -->
    <h2 class="text-xl font-semibold mt-8 mb-4">‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ</h2>
    <ul id="profiles" class="space-y-4"></ul>
  </div>

  <script>
    const form = document.getElementById('profileForm');
    const profilesEl = document.getElementById('profiles');
    const editIndexEl = document.getElementById('editIndex');

    function loadProfiles() {
      return JSON.parse(localStorage.getItem('profiles') || '[]');
    }

    function saveProfiles(data) {
      localStorage.setItem('profiles', JSON.stringify(data));
    }

    function renderProfiles() {
      profilesEl.innerHTML = "";
      const data = loadProfiles();

      data.forEach((p, i) => {
        const li = document.createElement('li');
        li.className = "bg-white shadow rounded-xl p-5 flex items-center justify-between gap-4";
        li.innerHTML = `
          <div class="flex items-center gap-4">
            <img class="w-14 h-14 rounded-full object-cover ring-2 ring-indigo-300" src="${p.image || 'https://i.pravatar.cc/100'}" alt="profile" />
            <div>
              <h2 class="text-lg font-semibold">${p.name} <span class="text-sm text-red-600">(${p.blood})</span></h2>
              <p class="text-sm text-gray-600">${p.address}</p>
              <p class="text-xs text-gray-500">üìû ${p.phone}</p>
              ${p.lastDonate ? `<p class="text-xs text-gray-400">‡¶∏‡¶∞‡ßç‡¶¨‡¶∂‡ßá‡¶∑ ‡¶∞‡¶ï‡ßç‡¶§ ‡¶¶‡¶ø‡ßü‡ßá‡¶õ‡ßá‡¶®: ${p.lastDonate} ‡¶¶‡¶ø‡¶® ‡¶Ü‡¶ó‡ßá</p>` : ''}
            </div>
          </div>
          <div class="flex gap-2">
            <a href="tel:${p.phone}" class="px-3 py-1 bg-green-500 text-white rounded-lg">‡¶ï‡¶≤</a>
            <button onclick="editProfile(${i})" class="px-3 py-1 bg-blue-500 text-white rounded-lg">‡¶è‡¶°‡¶ø‡¶ü</button>
            <button onclick="deleteProfile(${i})" class="px-3 py-1 bg-red-500 text-white rounded-lg">‡¶°‡¶ø‡¶≤‡¶ø‡¶ü</button>
          </div>
        `;
        profilesEl.appendChild(li);
      });
    }

    form.addEventListener('submit', e => {
      e.preventDefault();
      const data = loadProfiles();

      const newProfile = {
        name: document.getElementById('name').value,
        address: document.getElementById('address').value,
        phone: document.getElementById('phone').value,
        blood: document.getElementById('blood').value,
        image: document.getElementById('image').value,
        status: document.getElementById('status').value,
        lastDonate: document.getElementById('lastDonate').value
      };

      const editIndex = editIndexEl.value;
      if (editIndex) {
        data[editIndex] = newProfile;
        editIndexEl.value = "";
      } else {
        data.push(newProfile);
      }

      saveProfiles(data);
      form.reset();
      renderProfiles();
    });

    function editProfile(i) {
      const data = loadProfiles()[i];
      document.getElementById('name').value = data.name;
      document.getElementById('address').value = data.address;
      document.getElementById('phone').value = data.phone;
      document.getElementById('blood').value = data.blood;
      document.getElementById('image').value = data.image;
      document.getElementById('status').value = data.status;
      document.getElementById('lastDonate').value = data.lastDonate;
      editIndexEl.value = i;
    }

    function deleteProfile(i) {
      const data = loadProfiles();
      data.splice(i, 1);
      saveProfiles(data);
      renderProfiles();
    }

    renderProfiles();
  </script>
</body>
</html>
